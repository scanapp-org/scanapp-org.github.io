<!DOCTYPE html>
<html lang="en-us">
<link rel="icon" sizes="144x144" href="/assets/svg/log_sq-144.jpg">

  <head>
    <link href="https://minhazav.dev" rel="profile">
    <meta http-equiv="content-type" content="text/html; charset=utf-8">

    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">

    <title>
        
        Open source library for QR Code and barcode scanning with ReactJs &middot; ScanApp
        
    </title>

    
    <link rel="canonical" href="http://localhost:4000/blog/2021/12/11/open-source-library-for-qr-code-and-barcode-scanning-with-reactjs.html">
    

    <link rel="stylesheet" href="https://scanapp.org/assets/css/poole.css">
    <link rel="stylesheet" href="https://scanapp.org/assets/css/syntax.css">
    <link rel="stylesheet" href="https://scanapp.org/assets/css/lanyon.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=PT+Serif:400,400italic,700%7CPT+Sans:400">

    <!-- <link rel="apple-touch-icon-precomposed" sizes="144x144" href="http://localhost:4000/public/apple-touch-icon-precomposed.png"> -->
    <!-- <link rel="shortcut icon" href="http://localhost:4000/public/favicon.ico"> -->

    <link rel="alternate" type="application/rss+xml" title="RSS" href="http://localhost:4000/atom.xml">
</head>

  <body>

    <!-- Target for toggling the sidebar `.sidebar-checkbox` is for regular
styles, `#sidebar-checkbox` for behavior. -->
<input type="checkbox" class="sidebar-checkbox" id="sidebar-checkbox">

<!-- Toggleable sidebar -->
<div class="sidebar" id="sidebar">
<div class="sidebar-item">
    <p>Free online QR Code and Barcode scanner for web</p>
</div>

<nav class="sidebar-nav">
    <a class="sidebar-nav-item"  href="/">ScanApp - Home</a>

    

    
    
    
        
    
    
    
    
    
    
    
    
    
        
    
    
    
        
    
    
    
    
    
        
    
    
    
        
    
    
    
        
    
    
    
    
    
        
    
    

    <!-- <a class="sidebar-nav-item" href="/archive/v.zip">Download</a> -->
    <a class="sidebar-nav-item" href="/blog/">Blog</a>
    <a class="sidebar-nav-item" href="https://github.com/scanapp-org">GitHub project</a>
    <!-- <span class="sidebar-nav-item">Currently v</span> -->
</nav>

<div class="sidebar-item">
    <p>
    &copy; 2023. All rights reserved.
    </p>
</div>
</div>

    <!-- Wrap is the content to shift when toggling the sidebar. We wrap the
         content to avoid any CSS collisions with our real content. -->
    <div class="wrap">
      <div class="masthead">
        <div class="container">
          <h3 class="masthead-title">
            Blog by <a href="/" title="Home">ScanApp</a>
            <small>Free online QR Code and Barcode scanner for web</small>
          </h3>
        </div>
      </div>

      <div class="container content">
        <div class="post">
  <h1 class="post-title">Open source library for QR Code and barcode scanning with ReactJs</h1>
  <span class="post-date">
    11 Dec 2021
    | Authored by <a href="https://minhazav.dev">Minhaz</a>
    
  </span> 
  <p>This article has been forked from the original article by the Author at <a href="https://blog.minhazav.dev">blog.minhazav.dev</a>.</p>

<div class="post-info" style="border: 1px solid #cfcfcf73; padding: 10px; margin: 10px;">
    <h3 class="post-header"><a class="post-link" href="https://blog.minhazav.dev/Qr-code-and-barcode-scanner-in-react/">QR and barcode scanner in React</a></h3>
     <span class="post-description">
       <img src="https://blog.minhazav.dev/images/post33_image1.png" style="max-width: 30%; float: left; margin: 0px 15px 10px 0px;" alt="different 1D and 2D codes" /> <a href="https://github.com/mebjas/html5-qrcode">mebjas/html5-qrcode</a> is a fairly used open source library for implementing QR Code or barcode scanner in a web application. There are several developers who have been using it under web-view for android projects as well. In this article I’ll be explaining how to use html5-qrcode with React so it’s easier for developers using popular React framework to these functionalities with ease.
     </span>
     <br />
     <span class="read-more"><a href="https://blog.minhazav.dev/Qr-code-and-barcode-scanner-in-react/">[&nbsp;Read&nbsp;more&nbsp;]</a></span>
</div>

<hr />

<h2 id="introduction">Introduction</h2>

<p>I don’t think <a href="https://reactjs.org/">ReactJs</a> needs any explanation here and throughout this article I’ll assume the readers have familiarity with <code class="highlighter-rouge">React</code>, <code class="highlighter-rouge">Components</code>, <code class="highlighter-rouge">state</code>, <code class="highlighter-rouge">props</code> etc.</p>

<p>If you are just interested in implementing QR code or barcode scanning on web without react, I recommend you read this article</p>

<div class="post-info" style="border: 1px solid #cfcfcf73; padding: 10px; margin: 10px;">
    <h3 class="post-header"><a class="post-link" href="https://blog.minhazav.dev/QR-and-barcode-scanner-using-html-and-javascript/">QR and barcode scanner using HTML and JavaScript</a></h3>
     <span class="post-description">
       <img src="https://blog.minhazav.dev/images/post24_image1.jpeg" style="max-width: 10%; float: left; margin: 0px 15px 10px 0px;" alt="different 1D and 2D codes" />
       This article is a guide on integrating QR code or barcode scanner on any web applications with a couple of lines of code with ease using <a href="https://github.com/mebjas/html5-qrcode">mebjas/html5-qrcode</a>.
     </span>
     <br />
     <span class="read-more"><a href="https://blog.minhazav.dev/QR-and-barcode-scanner-using-html-and-javascript/">[&nbsp;Read&nbsp;more&nbsp;]</a></span>
</div>

<h2 id="install-the-library-using-npm">Install the library using npm</h2>
<p>First, install the latest version of the library in your React project, using <code class="highlighter-rouge">npm</code></p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>npm i html5-qrcode
</code></pre></div></div>

<h2 id="create-a-react-component">Create a React component</h2>

<p>Next step is to create a React that abstracts most of the scanner implementation.
Let say we create a new file called <code class="highlighter-rouge">Html5QrcodePlugin.jsx</code></p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="c1">// Html5QrcodePlugin.jsx</span>

<span class="k">import</span> <span class="p">{</span> <span class="nx">Html5QrcodeScanner</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">html5-qrcode</span><span class="dl">"</span><span class="p">;</span>
<span class="k">import</span> <span class="nx">React</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">react</span><span class="dl">'</span><span class="p">;</span>

<span class="kd">const</span> <span class="nx">qrcodeRegionId</span> <span class="o">=</span> <span class="dl">"</span><span class="s2">html5qr-code-full-region</span><span class="dl">"</span><span class="p">;</span>

<span class="kd">class</span> <span class="nx">Html5QrcodePlugin</span> <span class="kd">extends</span> <span class="nx">React</span><span class="p">.</span><span class="nx">Component</span> <span class="p">{</span>
    <span class="nx">render</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">return</span> <span class="o">&lt;</span><span class="nx">div</span> <span class="nx">id</span><span class="o">=</span><span class="p">{</span><span class="nx">qrcodeRegionId</span><span class="p">}</span> <span class="sr">/&gt;</span><span class="err">;
</span>    <span class="p">}</span>

    <span class="nx">componentWillUnmount</span><span class="p">()</span> <span class="p">{</span>
        <span class="c1">// TODO(mebjas): See if there is a better way to handle</span>
        <span class="c1">//  promise in `componentWillUnmount`.</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">html5QrcodeScanner</span><span class="p">.</span><span class="nx">clear</span><span class="p">().</span><span class="k">catch</span><span class="p">(</span><span class="nx">error</span> <span class="o">=&gt;</span> <span class="p">{</span>
            <span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="dl">"</span><span class="s2">Failed to clear html5QrcodeScanner. </span><span class="dl">"</span><span class="p">,</span> <span class="nx">error</span><span class="p">);</span>
        <span class="p">});</span>
    <span class="p">}</span>

    <span class="nx">componentDidMount</span><span class="p">()</span> <span class="p">{</span>
        <span class="c1">// Creates the configuration object for Html5QrcodeScanner.</span>
        <span class="kd">function</span> <span class="nx">createConfig</span><span class="p">(</span><span class="nx">props</span><span class="p">)</span> <span class="p">{</span>
            <span class="kd">var</span> <span class="nx">config</span> <span class="o">=</span> <span class="p">{};</span>
            <span class="k">if</span> <span class="p">(</span><span class="nx">props</span><span class="p">.</span><span class="nx">fps</span><span class="p">)</span> <span class="p">{</span>
            <span class="nx">config</span><span class="p">.</span><span class="nx">fps</span> <span class="o">=</span> <span class="nx">props</span><span class="p">.</span><span class="nx">fps</span><span class="p">;</span>
            <span class="p">}</span>
            <span class="k">if</span> <span class="p">(</span><span class="nx">props</span><span class="p">.</span><span class="nx">qrbox</span><span class="p">)</span> <span class="p">{</span>
            <span class="nx">config</span><span class="p">.</span><span class="nx">qrbox</span> <span class="o">=</span> <span class="nx">props</span><span class="p">.</span><span class="nx">qrbox</span><span class="p">;</span>
            <span class="p">}</span>
            <span class="k">if</span> <span class="p">(</span><span class="nx">props</span><span class="p">.</span><span class="nx">aspectRatio</span><span class="p">)</span> <span class="p">{</span>
            <span class="nx">config</span><span class="p">.</span><span class="nx">aspectRatio</span> <span class="o">=</span> <span class="nx">props</span><span class="p">.</span><span class="nx">aspectRatio</span><span class="p">;</span>
            <span class="p">}</span>
            <span class="k">if</span> <span class="p">(</span><span class="nx">props</span><span class="p">.</span><span class="nx">disableFlip</span> <span class="o">!==</span> <span class="kc">undefined</span><span class="p">)</span> <span class="p">{</span>
            <span class="nx">config</span><span class="p">.</span><span class="nx">disableFlip</span> <span class="o">=</span> <span class="nx">props</span><span class="p">.</span><span class="nx">disableFlip</span><span class="p">;</span>
            <span class="p">}</span>
            <span class="k">return</span> <span class="nx">config</span><span class="p">;</span>
        <span class="p">}</span>

        <span class="kd">var</span> <span class="nx">config</span> <span class="o">=</span> <span class="nx">createConfig</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">props</span><span class="p">);</span>
        <span class="kd">var</span> <span class="nx">verbose</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">props</span><span class="p">.</span><span class="nx">verbose</span> <span class="o">===</span> <span class="kc">true</span><span class="p">;</span>

        <span class="c1">// Suceess callback is required.</span>
        <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">props</span><span class="p">.</span><span class="nx">qrCodeSuccessCallback</span> <span class="p">))</span> <span class="p">{</span>
            <span class="k">throw</span> <span class="dl">"</span><span class="s2">qrCodeSuccessCallback is required callback.</span><span class="dl">"</span><span class="p">;</span>
        <span class="p">}</span>

        <span class="k">this</span><span class="p">.</span><span class="nx">html5QrcodeScanner</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Html5QrcodeScanner</span><span class="p">(</span>
            <span class="nx">qrcodeRegionId</span><span class="p">,</span> <span class="nx">config</span><span class="p">,</span> <span class="nx">verbose</span><span class="p">);</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">html5QrcodeScanner</span><span class="p">.</span><span class="nx">render</span><span class="p">(</span>
            <span class="k">this</span><span class="p">.</span><span class="nx">props</span><span class="p">.</span><span class="nx">qrCodeSuccessCallback</span><span class="p">,</span>
            <span class="k">this</span><span class="p">.</span><span class="nx">props</span><span class="p">.</span><span class="nx">qrCodeErrorCallback</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">};</span>

<span class="k">export</span> <span class="k">default</span> <span class="nx">Html5QrcodePlugin</span><span class="p">;</span>
</code></pre></div></div>

<blockquote>
  <p><strong>Important note:</strong> html5-qrcode is an actively developed library. It’s advisable to subscribe to updates at <a href="https://github.com/mebjas/html5-qrcode">mebjas/html5-qrcode</a> so you can keep the React library up to date.</p>
</blockquote>

<h2 id="use-this-plugin-in-your-react-app">Use this plugin in your React App</h2>
<p>I’ll assume you have an <code class="highlighter-rouge">App.js</code> that is the source component. You can add the new <code class="highlighter-rouge">Component</code> we just created.</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">class</span> <span class="nx">App</span> <span class="kd">extends</span> <span class="nx">React</span><span class="p">.</span><span class="nx">Component</span> <span class="p">{</span>
    <span class="kd">constructor</span><span class="p">(</span><span class="nx">props</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">super</span><span class="p">(</span><span class="nx">props</span><span class="p">);</span>

        <span class="c1">// This binding is necessary to make `this` work in the callback.</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">onNewScanResult</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">onNewScanResult</span><span class="p">.</span><span class="nx">bind</span><span class="p">(</span><span class="k">this</span><span class="p">);</span>
    <span class="p">}</span>

    <span class="nx">render</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">return</span> <span class="p">(</span><span class="o">&lt;</span><span class="nx">div</span><span class="o">&gt;</span>
            <span class="o">&lt;</span><span class="nx">h1</span><span class="o">&gt;</span><span class="nx">Html5Qrcode</span> <span class="nx">React</span> <span class="nx">example</span><span class="o">!&lt;</span><span class="sr">/h1</span><span class="err">&gt;
</span>            <span class="o">&lt;</span><span class="nx">Html5QrcodePlugin</span> 
                <span class="nx">fps</span><span class="o">=</span><span class="p">{</span><span class="mi">10</span><span class="p">}</span>
                <span class="nx">qrbox</span><span class="o">=</span><span class="p">{</span><span class="mi">250</span><span class="p">}</span>
                <span class="nx">disableFlip</span><span class="o">=</span><span class="p">{</span><span class="kc">false</span><span class="p">}</span>
                <span class="nx">qrCodeSuccessCallback</span><span class="o">=</span><span class="p">{</span><span class="k">this</span><span class="p">.</span><span class="nx">onNewScanResult</span><span class="p">}</span><span class="sr">/</span><span class="err">&gt;
</span>        <span class="o">&lt;</span><span class="sr">/div&gt;</span><span class="se">)</span><span class="err">;
</span>    <span class="p">}</span>

    <span class="nx">onNewScanResult</span><span class="p">(</span><span class="nx">decodedText</span><span class="p">,</span> <span class="nx">decodedResult</span><span class="p">)</span> <span class="p">{</span>
        <span class="c1">// Handle the result here.</span>
    <span class="p">}</span>
<span class="p">);</span>
</code></pre></div></div>

<h2 id="passing-around-the-callback">Passing around the callback</h2>
<p>You might have seen the callback defined in the above section</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// ... rest of the code </span>

    <span class="nx">onNewScanResult</span><span class="p">(</span><span class="nx">decodedText</span><span class="p">,</span> <span class="nx">decodedResult</span><span class="p">)</span> <span class="p">{</span>
        <span class="c1">// Handle the result here.</span>
    <span class="p">}</span>

<span class="c1">// ... rest of the code </span>
</code></pre></div></div>

<p>Use this callback to define rest of your business logic. Let say your use-case is to pass the newly scanned result and print in on a <code class="highlighter-rouge">&lt;table&gt;</code>, you’d want to pass around the data to a different component. You can find an example of this at <a href="https://github.com/scanapp-org/html5-qrcode-react/blob/main/src/ResultContainerPlugin.jsx">scanapp-org/html5-qrcode-react</a>.</p>

<h2 id="full-code-reference">Full code reference</h2>
<p>The full example has been created at <a href="https://github.com/scanapp-org/html5-qrcode-react">scanapp-org/html5-qrcode-react</a> - you can use that as a good reference.</p>

<h2 id="credits">Credits</h2>
<div id="scanapp_ad" style="margin: 10px">
    <div class="alert alert-success" style="display: flex;">
        <div style="max-width: 100px; display: inline-block;">
            <a href="https://scanapp.org"><img src="https://blog.minhazav.dev/assets/img/scanapp-logo-removebg-preview.png" style="width: 100px;" /></a>
        </div>
        <div style="display: inline-block; margin-left: 10px">
            <strong>ScanApp - Free QR code and barcode scanner for web</strong>
            <br />
            <a href="https://scanapp.org">scanapp.org</a> is a free online QR code and barcode reader for web built using this library - <a href="https://scanapp.org">try it out</a>.
            <br />
        </div>
    </div>
</div>

<h2 id="closing-note">Closing note</h2>
<p>I have to admit, I am not React savvy, if you see errors or know of better way to do things please suggest it using the comments or send a pull request to <a href="https://github.com/scanapp-org/html5-qrcode-react">scanapp-org/html5-qrcode-react</a>.</p>

</div>

<!-- TODO(mebjas): Add social badges here -->

<script src="https://utteranc.es/client.js"
  repo="scanapp-org/scanapp-org.github.io"
  issue-term="url"
  theme="github-light"
  crossorigin="anonymous"
  async>
</script>


<div class="related">
  <h2>Related posts</h2>
  <ul class="related-posts">
    
      <li>
        <h3>
          <a href="/blog/2022/11/01/using-html5-qrcode-with-only-camera-or-file-options.html">
            Using Html5-qrcode with only Camera or File options
            <small>01 Nov 2022</small>
          </a>
        </h3>
      </li>
    
      <li>
        <h3>
          <a href="/blog/2022/10/30/using-flash-or-torch-with-html5-qrcode.html">
            Using Flash or Torch with Html5-Qrcode
            <small>30 Oct 2022</small>
          </a>
        </h3>
      </li>
    
      <li>
        <h3>
          <a href="/blog/2022/01/09/setting-dynamic-qr-box-size-in-html5-qrcode.html">
            Setting dynamic QR box size in Html5-qrcode
            <small>09 Jan 2022</small>
          </a>
        </h3>
      </li>
    
  </ul>
</div>

      </div>
    </div>

    <label for="sidebar-checkbox" class="sidebar-toggle"></label>

    <script src='https://scanapp.org/assets/js/blog.script.js'></script>
  </body>
</html>